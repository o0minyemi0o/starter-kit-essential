---
description: Storybook 스토리 작성 규칙. 컴포넌트 문서화 시 참고.
globs: "*.stories.jsx"
alwaysApply: false
---
# Storybook 작성 규칙

## 필수 규칙 (MUST)

All stories MUST follow these rules:

| Rule | Description |
|------|-------------|
| DocumentTitle English | DocumentTitle의 모든 props (`title`, `status`, `note`, `brandName`, `systemName`) 값은 영어로 작성 |
| Description Korean | DocumentTitle 외의 설명 (페이지 제목, 섹션 설명, 테이블 내용 등)은 한글로 작성 |
| Props Table Required | 모든 스토리 Doc의 최상단에 컴포넌트 설명과 함께 Props 테이블을 표시 |
| SectionTitle Usage | 2개 이상의 섹션이 있을 경우 반드시 `SectionTitle`로 구분 |

### Story Types

| Type | autodocs | Doc Story | DocumentTitle | Use Case |
|------|----------|-----------|---------------|----------|
| Component (interactive) | `tags: ['autodocs']` | NOT needed | NOT supported in Docs tab | Components with props (Button, Card, Icons) |
| Documentation (static) | None | Required | Required | Overview, Style sections (Introduction, Typography) |

**Note:** `docs.page` with JSX causes dynamic import errors in Vite + Storybook. Do NOT use DocumentTitle in autodocs Docs tab.

### Component Story (autodocs)

Use `tags: ['autodocs']` for automatic documentation. No separate Doc story needed. DocumentTitle cannot be added to autodocs Docs tab.

```jsx
export default {
  title: 'Component/Button',
  component: Button,
  tags: ['autodocs'],
  argTypes: { /* props */ },
};

export const Default = {
  args: { /* default args */ },
};
```

### Documentation Story (Doc)

For static documentation pages (Overview, Style), use Doc story with DocumentTitle.

```jsx
export const Doc = {
  render: () => (
    <>
      <DocumentTitle
        title="ComponentName"
        status="Available"
        note="Brief description"
        brandName="Design System"
        systemName="Starter Kit"
        version="1.0"
      />
      <PageContainer>
        <SectionTitle title="Section 1" />
        {/* Content */}
      </PageContainer>
    </>
  ),
};
```

---

## 문서 스타일 원칙

공식 기술 문서 스타일을 따른다. 장식보다 정보 전달에 집중한다.

| 원칙 | 설명 |
|------|------|
| 보수적 | 최소한의 스타일링, 장식 요소 배제 |
| 전문적 | 기술 문서처럼 신뢰감 있는 톤 |
| 구조적 | 명확한 계층과 섹션 구분 |
| 일관성 | 모든 문서가 동일한 레이아웃 구조 |

### 금지 사항

- Paper, Card 컴포넌트의 장식적 사용 금지
- elevation, boxShadow 사용 금지
- 불필요한 배경색, 그라데이션 금지
- 이모지 과다 사용 금지
- 마케팅 문구 금지

---

## 필수 문서 컴포넌트

`src/components/storybookDocumentation/` 내 컴포넌트를 적극 사용한다.

### DocumentTitle

모든 스토리 상단에 고정 헤더로 문서 메타 정보를 표시한다. **모든 props 값은 영어로 작성한다.**

```jsx
import { DocumentTitle } from '../../components/storybookDocumentation';

<DocumentTitle
  title="Document Title"
  status="Available"
  note="Brief description in English"
  brandName="Design System"
  systemName="Starter Kit"
  version="1.0"
/>
```

### PageContainer

모든 스토리 콘텐츠를 감싸는 컨테이너. xl 브레이크포인트 기준 최대 너비 적용.

```jsx
import { PageContainer } from '../../components/storybookDocumentation';

<PageContainer>
  {/* 콘텐츠 */}
</PageContainer>
```

### SectionTitle

콘텐츠 섹션 구분용 타이틀. 하단 보더로 시각적 구분.

```jsx
import { SectionTitle } from '../../components/storybookDocumentation';

<SectionTitle
  title="Props"
  description="컴포넌트의 Props 목록입니다."
/>
```

---

## Props 테이블 (필수)

**모든 스토리 Doc의 최상단**에 컴포넌트 설명 직후 Props 테이블을 배치한다.

### Props 테이블 구조

| 컬럼 | 설명 |
|------|------|
| Prop | Props 이름 (monospace) |
| Type | 데이터 타입 |
| Default | 기본값 |
| Description | 한글 설명 |

### Props 테이블 템플릿

```jsx
<SectionTitle title="Props" description="컴포넌트의 Props 목록입니다." />
<TableContainer>
  <Table size="small">
    <TableHead>
      <TableRow>
        <TableCell sx={ { fontWeight: 600 } }>Prop</TableCell>
        <TableCell sx={ { fontWeight: 600 } }>Type</TableCell>
        <TableCell sx={ { fontWeight: 600 } }>Default</TableCell>
        <TableCell sx={ { fontWeight: 600 } }>Description</TableCell>
      </TableRow>
    </TableHead>
    <TableBody>
      <TableRow>
        <TableCell sx={ { fontFamily: 'monospace' } }>propName</TableCell>
        <TableCell>string</TableCell>
        <TableCell>-</TableCell>
        <TableCell>Props 설명 (한글)</TableCell>
      </TableRow>
    </TableBody>
  </Table>
</TableContainer>
```

---

## 스토리 구조 템플릿

### Style/Overview 섹션용 (문서형)

Style 섹션은 인터랙티브 컴포넌트가 아닌 정적 문서이므로, 문서형 구조를 사용한다.

```jsx
import Box from '@mui/material/Box';
import Typography from '@mui/material/Typography';
import Table from '@mui/material/Table';
import { DocumentTitle, PageContainer, SectionTitle } from '../../components/storybookDocumentation';

export default {
  title: 'Style/DocumentName',
  parameters: {
    layout: 'padded',
    docs: {
      description: {
        component: `
## Document Title

한 문장 정의.

### 구조
- 항목 1
- 항목 2
        `,
      },
    },
  },
};

/** 메인 문서 */
export const Default = {
  render: () => (
    <>
      <DocumentTitle
        title="Document Title"
        status="Available"
        note="Brief description in English"
        brandName="Design System"
        systemName="Starter Kit"
        version="1.0"
      />
      <PageContainer>
        <Typography variant="h4" sx={ { fontWeight: 700, mb: 1 } }>
          페이지 제목
        </Typography>
        <Typography variant="body1" color="text.secondary" sx={ { mb: 4 } }>
          페이지 설명
        </Typography>

        <SectionTitle title="Props" description="컴포넌트의 Props 목록입니다." />
        {/* Props Table - 필수 */}

        <SectionTitle title="섹션 1" />
        {/* Table 또는 콘텐츠 */}

        <SectionTitle title="섹션 2" description="부가 설명" />
        {/* Table 또는 콘텐츠 */}
      </PageContainer>
    </>
  ),
};
```

### Component 섹션용 (인터랙티브형)

```jsx
import Component from 'path/to/Component';
import Stack from '@mui/material/Stack';

export default {
  title: 'Component/ComponentName',
  component: Component,
  tags: ['autodocs'],
  parameters: {
    layout: 'centered',
    docs: {
      description: {
        component: `
## ComponentName

한 문장 정의.

### 용도
- 용도 1
- 용도 2
        `,
      },
    },
  },
  argTypes: {
    // props 정의
  },
};

export const Default = {
  args: {
    // 기본 args
  },
};
```

---

## 콘텐츠 스타일링 규칙

### 정보 표시용 컴포넌트

| 용도 | 권장 | 금지 |
|------|------|------|
| 데이터 나열 | Table, TableContainer | Card 그리드 |
| 섹션 구분 | SectionTitle, Divider | Paper elevation |
| 색상 블록 | Box with backgroundColor | Card, Paper |
| 코드 예시 | Box component="pre" | Paper elevation |

### 허용되는 스타일링

```jsx
// ✅ 테이블로 정보 표시
<TableContainer>
  <Table size="small">
    <TableBody>
      <TableRow>
        <TableCell sx={ { fontWeight: 600 } }>키</TableCell>
        <TableCell>값</TableCell>
      </TableRow>
    </TableBody>
  </Table>
</TableContainer>

// ✅ 색상 블록 (장식 없음)
<Box
  sx={ {
    width: 80,
    height: 80,
    backgroundColor: color,
    display: 'flex',
    alignItems: 'center',
    justifyContent: 'center',
  } }
>
  <Typography variant="caption">{ label }</Typography>
</Box>

// ✅ 코드 블록
<Box
  component="pre"
  sx={ {
    backgroundColor: 'grey.100',
    p: 2,
    fontSize: 12,
    fontFamily: 'monospace',
    overflow: 'auto',
  } }
>
  {code}
</Box>
```

### 금지되는 스타일링

```jsx
// ❌ 장식적 Paper 사용
<Paper sx={ { p: 3, elevation: 2 } }>
  <Typography>내용</Typography>
</Paper>

// ❌ Card 그리드
<Grid container spacing={ 2 }>
  <Grid item>
    <Card><CardContent>...</CardContent></Card>
  </Grid>
</Grid>

// ❌ 그림자, 보더 장식
<Box sx={ { boxShadow: 3, border: '2px solid primary.main' } }>
```

---

## 스토리 구성 규칙

### Style 섹션

Style 섹션은 디자인 토큰 문서이므로 단일 문서형 스토리를 권장한다.

| 접근 방식 | 설명 |
|----------|------|
| 단일 스토리 | 모든 정보를 하나의 Default 스토리에 SectionTitle로 구분 |
| 다중 스토리 | 정보량이 많을 경우 주제별로 분리 (최대 3-4개) |

### Component 섹션

| 스토리 | 목적 | 필수 |
|--------|------|------|
| Default | 기본 사용 예시, args 연동 | 필수 |
| Variants | 주요 변형 비교 | 선택 |

### 스토리 개수 제한

- Style 섹션: 1-3개 권장
- Component 섹션: 1-5개 권장

---

## 타이포그래피 규칙

### 페이지 제목

```jsx
<Typography variant="h4" sx={ { fontWeight: 700, mb: 1 } }>
  제목
</Typography>
<Typography variant="body1" color="text.secondary" sx={ { mb: 4 } }>
  부제목/설명
</Typography>
```

### 테이블 스타일

```jsx
<TableCell sx={ { fontWeight: 600 } }>헤더</TableCell>
<TableCell sx={ { fontFamily: 'monospace', fontSize: 12 } }>코드값</TableCell>
<TableCell sx={ { color: 'text.secondary', fontSize: 13 } }>설명</TableCell>
```

---

## 체크리스트

스토리 작성 완료 전 확인:

### MUST (Required)
- [ ] DocumentTitle props가 모두 영어로 작성되었는가?
- [ ] 설명(페이지 제목, 섹션 설명, 테이블 내용)이 한글로 작성되었는가?
- [ ] 최상단에 Props 테이블이 있는가?
- [ ] 2개 이상의 섹션에 SectionTitle이 사용되었는가?
- [ ] 올바른 스토리 타입이 사용되었는가? (autodocs for components, Doc for documentation)

### SHOULD (Recommended)
- [ ] PageContainer로 콘텐츠가 감싸져 있는가? (Doc stories)
- [ ] Paper, Card, elevation 장식이 없는가?
- [ ] 불필요한 색상/장식이 없는가?
